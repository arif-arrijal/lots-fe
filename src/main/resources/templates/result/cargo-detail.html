<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">
<div th:fragment="cargo-detail-table">
    <div class="box box-danger animated fadeInUp">
        <div class="box-header with-border">
            <h3 style="color: #f56954" class="box-title">Cargo Detail</h3>
            <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Minimize"><i class="fa fa-minus"></i></button>
                <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Close"><i class="fa fa-times"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="col-md-12">
                <table style="border: none" th:if="${location != null || uld != null}" class="table" cellspacing="0" cellpadding="0">
                    <tbody>
                    <tr th:if="${location != null}">
                        <th style="width:20%">Last Location :</th>
                        <td th:text="${location}"></td>
                    </tr>
                    <tr th:if="${uld != null}">
                        <th style="width:20%">Last ULD/BT :</th>
                        <td th:text="${uld}"></td>
                    </tr>
                    </tbody>
                </table>
                <table id="cargo-detail-table" class="table table-striped table-bordered table-hover table-responsive" style="text-align:center">
                    <thead style="background-color: #3c8dbc; color: white">
                    <tr>
                        <th style="text-align: center">Status</th>
                        <th style="text-align: center">Accepted By</th>
                        <th style="text-align: center">Processed Date</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="res : ${result}">
                        <td style="text-align: center" th:text="${res.getTracking().getStatus().getName()}"></td>
                        <td style="text-align: center" th:text="${res.getCreateBy()}"></td>
                        <td style="text-align: center" th:text="${res.getCreateTime()}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<th:block layout:fragment="js-addition">
    <script th:inline="javascript">
        /*<![CDATA[*/
        $(document).ready(function () {
            $('#cargo-detail-table').DataTable({
                "pageLength": 10,
                "autoWidth": true
            });
        });

        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": true,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "100",
            "hideDuration": "300",
            "timeOut": "1500",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };
        var awb = $('#search-keyword').val();
        toastr.success("Successfully retrieve cargo detail");

        /*]]>*/
    </script>
</th:block>
</html>